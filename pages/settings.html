<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="shortcut icon" href="../assets/images/favicon.svg" type="image/x-icon">
</head>
    <!-- Barre supérieure avec navigation et actions -->
    <div class="top-bar">
        <div class="container">
            <div class="top-bar-left">
                <div class="breadcrumb">
                    <div class="project-icon">
                        <div class="gradient-circle"></div>
                    </div>
                    <span class="project-name">Vulsshield</span>
                </div>
            </div>
            
            <div class="top-bar-center">
                <!-- Espace central vide -->
            </div>
            
            <div class="top-bar-right">
                <div class="search-container">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Find..." class="search-input">
                </div>
                <button class="action-btn password-action-btn shimmer-button" onclick="window.location.href='dashboard.html'">
                    <i class="fas fa-key"></i>
                </button>
                <button class="action-btn feedback-btn shimmer-button" onclick="toggleFeedbackMenu()">Feedback</button>
                
                <!-- Menu Feedback -->
                <div class="dropdown-menu feedback-menu" id="feedbackMenu">
                    <div class="menu-header">
                        <h4>Envoyer un feedback</h4>
                    </div>
                    <div class="menu-content">
                        <div class="feedback-form">
                            <div class="form-group">
                                <label for="feedbackType">Type de feedback</label>
                                <select id="feedbackType" class="feedback-select">
                                    <option value="bug">Rapport de bug</option>
                                    <option value="feature">Demande de fonctionnalité</option>
                                    <option value="improvement">Amélioration</option>
                                    <option value="other">Autre</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="feedbackMessage">Message</label>
                                <textarea id="feedbackMessage" class="feedback-textarea" placeholder="Décrivez votre feedback..."></textarea>
                            </div>
                            <div class="form-group">
                                <label for="feedbackEmail">Email (optionnel)</label>
                                <input type="email" id="feedbackEmail" class="feedback-input" placeholder="votre@email.com">
                            </div>
                        </div>
                    </div>
                    <div class="menu-footer">
                        <button class="btn-secondary shimmer-button" onclick="closeFeedbackMenu()">Annuler</button>
                        <button class="btn-primary shimmer-button" onclick="submitFeedback()">Envoyer</button>
                    </div>
                </div>
                <div class="notification-icon" onclick="toggleNotificationMenu()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-dot"></span>
                    
                    <!-- Menu des notifications -->
                    <div class="dropdown-menu notification-menu" id="notificationMenu">
                        <div class="menu-header">
                            <h4>Notifications</h4>
                            <button class="mark-all-read shimmer-button">Marquer comme lu</button>
                        </div>
                        <div class="menu-content">
                            <div class="notification-item unread">
                                <div class="notification-icon-small">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="notification-content">
                                    <p class="notification-title">Sécurité renforcée</p>
                                    <p class="notification-text">Votre mot de passe a été mis à jour avec succès.</p>
                                    <span class="notification-time">Il y a 2h</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <div class="notification-icon-small">
                                    <i class="fas fa-sync-alt"></i>
                                </div>
                                <div class="notification-content">
                                    <p class="notification-title">Synchronisation</p>
                                    <p class="notification-text">Nouvelles données synchronisées sur le cloud.</p>
                                    <span class="notification-time">Il y a 4h</span>
                                </div>
                            </div>
                            <div class="notification-item">
                                <div class="notification-icon-small">
                                    <i class="fas fa-bell"></i>
                                </div>
                                <div class="notification-content">
                                    <p class="notification-title">Rappel</p>
                                    <p class="notification-text">Pensez à changer vos mots de passe régulièrement.</p>
                                    <span class="notification-time">Hier</span>
                                </div>
                            </div>
                        </div>
                        <div class="menu-footer">
                            <a href="#" class="view-all">Voir toutes les notifications</a>
                        </div>
                    </div>
                </div>
                
                <div class="action-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                
                <div class="user-avatar" onclick="toggleUserMenu()">
                    <div class="avatar-gradient"></div>
                    
                    <!-- Menu utilisateur -->
                    <div class="dropdown-menu user-menu" id="userMenu">
                        <div class="menu-header">
                            <div class="user-info">
                                <div class="user-avatar-small">
                                    <div class="avatar-gradient"></div>
                                </div>
                                <div class="user-details">
                                    <p class="user-name">John Doe</p>
                                    <p class="user-email">john.doe@example.com</p>
                                </div>
                            </div>
                        </div>
                        <div class="menu-content">
                            <a href="#" class="menu-item">
                                <i class="fas fa-user"></i>
                                <span>Profil</span>
                            </a>
                            <a href="pages/settings.html" class="menu-item">
                                <i class="fas fa-cog"></i>
                                <span>Paramètres</span>
                            </a>
                            <a href="#" class="menu-item">
                                <i class="fas fa-shield-alt"></i>
                                <span>Sécurité</span>
                            </a>
                            <a href="pages/aide.html" class="menu-item">
                                <i class="fas fa-question-circle"></i>
                                <span>Aide</span>
                            </a>
                        </div>
                        <div class="menu-footer">
                            <a href="#" class="menu-item logout">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Déconnexion</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <header class="top-nav">
        <div class="container">
            <a href="../index.html" class="logo">
                <img src="../assets/images/logo.svg" alt="Vulsshield Logo">
            </a>
            <nav>
                <ul>
                    <li><a href="../index.html#home">Accueil</a></li>
                    <li><a href="../index.html#features">Fonctionnalités</a></li>
                    <li><a href="../index.html#why-us">Pourquoi nous</a></li>
                    <li><a href="produits.html">Produits</a></li>
                    <li><a href="team.html">Team</a></li>
                    <li><a href="../index.html#partners">Partenaires</a></li>
                    <li><a href="download.html">Télécharger</a></li>
                </ul>
            </nav>
            <a class="inscription cta-button shimmer-button" href="../inscription.html">S'inscrire</a>

        </div>
    </header>

    <main class="settings-page">
        <div class="container">
            <section class="user-profile-section" data-aos="fade-up" data-aos-delay="100">
                <div class="user-profile-card shimmer-hover">
                    <h2>Informations du profil</h2>
                    <p class="muted">Ajoutez ou mettez à jour vos coordonnées. Ces informations restent locales sur votre navigateur tant qu'aucune synchronisation n'est activée.</p>

                    <form id="userProfileForm" class="profile-form" style="margin-top:16px; display:grid; gap:14px;">
                        <div class="form-group">
                            <label for="userPhone">Numéro de téléphone</label>
                            <input type="tel" id="userPhone" class="feedback-input" placeholder="+33 6 12 34 56 78">
                        </div>
                        <div class="form-group">
                            <label for="userAddress">Adresse</label>
                            <input type="text" id="userAddress" class="feedback-input" placeholder="12 rue Exemple, Bât A">
                        </div>
                        <div class="form-group">
                            <label for="userCountry">Pays</label>
                            <input type="text" id="userCountry" class="feedback-input" placeholder="France">
                        </div>
                        <div class="form-group">
                            <label for="userCity">Ville</label>
                            <input type="text" id="userCity" class="feedback-input" placeholder="Paris">
                        </div>

                        <div style="display:flex; gap:10px; margin-top:8px;">
                            <button type="submit" class="btn-primary shimmer-button">Enregistrer</button>
                            <button type="button" id="clearProfileBtn" class="btn-secondary shimmer-button">Effacer</button>
                        </div>

                        <div id="profileSaveStatus" style="display:none; margin-top:8px; padding:10px; border-radius:8px; font-size:0.95rem;"></div>
                    </form>
                </div>
            </section>
        </div>
    </main>
<footer>
        <div class="container footer-container">
            <div class="footer-section footer-about">
                <a href="../index.html" class="logo">
                    <img src="../assets/images/logo.svg" alt="Vulsshield Logo">
                </a>
                <p>Vulsshield est une application mobile innovante conçue pour protéger, organiser et simplifier la gestion
                    de vos mots de passe et informations sensibles.</p>
            </div>

            <div class="footer-section footer-links">
                <h3>Navigation</h3>
                <ul>
                    <li><a href="../index.html#home">Accueil</a></li>
                    <li><a href="produits.html">Produits</a></li>
                    <li><a href="../index.html#features">Fonctionnalités</a></li>
                    <li><a href="team.html">Équipe</a></li>
                    <li><a href="download.html">Télécharger</a></li>
                </ul>
            </div>

            <div class="footer-section footer-contact">
                <h3>Contact</h3>
                <p><i class="fas fa-envelope"></i> <a href="mailto:contact@vulsshield.com">contact@vulsshield.com</a></p>
                <p><i class="fas fa-phone"></i> +224 623 10 96 92</p>
                <p><i class="fas fa-location"></i> Conakry</p>

                <div class="social-links">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Vulsshield. Tous droits réservés.</p>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script src="../dark-mode.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 1000,
            once: true,
        });
    </script>
    <script src="../firebase-auth.js?v=2" type="module"></script>
    <script>
        // Gestion du formulaire de profil utilisateur (localStorage)
        document.addEventListener('DOMContentLoaded', function() {
            const KEYS = {
                phone: 'vuls_user_phone',
                address: 'vuls_user_address',
                country: 'vuls_user_country',
                city: 'vuls_user_city'
            };

            const form = document.getElementById('userProfileForm');
            const phoneInput = document.getElementById('userPhone');
            const addressInput = document.getElementById('userAddress');
            const countryInput = document.getElementById('userCountry');
            const cityInput = document.getElementById('userCity');
            const statusBox = document.getElementById('profileSaveStatus');
            const clearBtn = document.getElementById('clearProfileBtn');

            function showStatus(message, type = 'success') {
                if (!statusBox) return;
                statusBox.textContent = message;
                statusBox.style.display = 'block';
                if (type === 'success') {
                    statusBox.style.background = 'rgba(40, 167, 69, 0.15)';
                    statusBox.style.border = '1px solid rgba(40, 167, 69, 0.35)';
                    statusBox.style.color = '#9be7ac';
                } else {
                    statusBox.style.background = 'rgba(220, 53, 69, 0.15)';
                    statusBox.style.border = '1px solid rgba(220, 53, 69, 0.35)';
                    statusBox.style.color = '#f5a3a9';
                }
                setTimeout(() => { statusBox.style.display = 'none'; }, 2000);
            }

            function loadProfile() {
                if (!form) return;
                phoneInput.value = localStorage.getItem(KEYS.phone) || '';
                addressInput.value = localStorage.getItem(KEYS.address) || '';
                countryInput.value = localStorage.getItem(KEYS.country) || '';
                cityInput.value = localStorage.getItem(KEYS.city) || '';
            }

            function saveProfile() {
                const phone = (phoneInput.value || '').trim();
                const address = (addressInput.value || '').trim();
                const country = (countryInput.value || '').trim();
                const city = (cityInput.value || '').trim();

                // Validation simple du téléphone (optionnel)
                if (phone && phone.replace(/\D/g, '').length < 6) {
                    showStatus('Numéro de téléphone invalide (trop court).', 'error');
                    return false;
                }

                localStorage.setItem(KEYS.phone, phone);
                localStorage.setItem(KEYS.address, address);
                localStorage.setItem(KEYS.country, country);
                localStorage.setItem(KEYS.city, city);
                return true;
            }

            if (form) {
                loadProfile();
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    if (saveProfile()) {
                        showStatus('Profil enregistré avec succès.');
                    }
                });
            }

            if (clearBtn) {
                clearBtn.addEventListener('click', function() {
                    phoneInput.value = '';
                    addressInput.value = '';
                    countryInput.value = '';
                    cityInput.value = '';
                    localStorage.removeItem(KEYS.phone);
                    localStorage.removeItem(KEYS.address);
                    localStorage.removeItem(KEYS.country);
                    localStorage.removeItem(KEYS.city);
                    showStatus('Informations effacées.');
                });
            }
        });
    </script>
</body>
</html>